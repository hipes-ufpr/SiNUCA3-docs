<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiNUCA3: src/std_components/predictors/interleavedBTB.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SiNUCA3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('interleavedBTB_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">interleavedBTB.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of Interleaved Branch Target Buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="sinuca3_8hpp_source.html">sinuca3.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="bimodal__predictor_8hpp_source.html">utils/bimodal_predictor.hpp</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interleavedBTB.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="interleavedBTB_8hpp__incl.png" border="0" usemap="#asrc_2std__components_2predictors_2interleavedBTB_8hpp" alt=""/></div>
<map name="asrc_2std__components_2predictors_2interleavedBTB_8hpp" id="asrc_2std__components_2predictors_2interleavedBTB_8hpp">
<area shape="rect" title="Implementation of Interleaved Branch Target Buffer." alt="" coords="221,5,444,45"/>
<area shape="rect" href="sinuca3_8hpp.html" title=" " alt="" coords="196,93,296,119"/>
<area shape="poly" title=" " alt="" coords="313,48,271,86,267,82,310,44"/>
<area shape="rect" href="bimodal__predictor_8hpp.html" title="Public API of a generic bimodal predictor." alt="" coords="320,93,519,119"/>
<area shape="poly" title=" " alt="" coords="355,44,398,82,394,86,352,48"/>
<area shape="rect" href="config_8hpp.html" title="Configuration public API for SiNUCA3." alt="" coords="5,387,137,412"/>
<area shape="poly" title=" " alt="" coords="200,121,152,140,129,153,108,169,73,206,55,244,50,286,55,338,64,373,59,374,50,339,45,286,50,242,69,203,104,165,126,148,150,135,198,116"/>
<area shape="rect" href="component_8hpp.html" title="Public API of the component template class." alt="" coords="85,240,255,265"/>
<area shape="poly" title=" " alt="" coords="241,120,212,168,183,229,178,226,208,165,236,118"/>
<area shape="rect" href="linkable_8hpp.html" title="Public API of the Linkable class." alt="" coords="65,313,214,339"/>
<area shape="poly" title=" " alt="" coords="220,121,184,139,143,165,105,199,88,219,75,241,72,258,79,275,92,290,109,303,106,308,89,294,75,277,67,259,70,239,84,216,101,196,140,161,182,134,217,116"/>
<area shape="rect" href="default__packets_8hpp.html" title="Standard message types." alt="" coords="348,313,549,339"/>
<area shape="poly" title=" " alt="" coords="286,116,354,138,434,168,505,202,532,220,550,239,554,250,554,261,543,281,521,297,496,310,493,306,518,293,539,277,549,260,549,251,545,241,529,224,503,207,432,173,352,143,284,121"/>
<area shape="rect" href="engine_8hpp.html" title="Public API of the simulation engine." alt="" coords="223,167,365,192"/>
<area shape="poly" title=" " alt="" coords="256,118,281,154,276,157,252,121"/>
<area shape="rect" href="logging_8hpp.html" title=" " alt="" coords="610,167,741,192"/>
<area shape="poly" title=" " alt="" coords="297,114,309,116,597,163,596,168,308,121,296,119"/>
<area shape="rect" title=" " alt="" coords="40,460,103,485"/>
<area shape="poly" title=" " alt="" coords="74,412,74,446,69,446,69,412"/>
<area shape="poly" title=" " alt="" coords="167,267,152,302,147,300,162,265"/>
<area shape="poly" title=" " alt="" coords="130,341,94,378,90,375,126,337"/>
<area shape="rect" href="circular__buffer_8hpp.html" title="Circular Buffer Class." alt="" coords="199,387,373,412"/>
<area shape="poly" title=" " alt="" coords="164,336,251,378,249,383,162,341"/>
<area shape="rect" title=" " alt="" coords="325,460,391,485"/>
<area shape="poly" title=" " alt="" coords="300,410,338,448,335,452,296,414"/>
<area shape="poly" title=" " alt="" coords="444,341,375,450,370,447,439,338"/>
<area shape="poly" title=" " alt="" coords="275,194,203,235,201,231,273,190"/>
<area shape="rect" title=" " alt="" coords="279,240,338,265"/>
<area shape="poly" title=" " alt="" coords="299,192,306,226,301,227,294,193"/>
<area shape="rect" href="trace__reader_8hpp.html" title="Pure virtual TraceReader class that all trace readers must implement." alt="" coords="362,240,535,265"/>
<area shape="poly" title=" " alt="" coords="320,190,412,232,410,237,318,194"/>
<area shape="poly" title=" " alt="" coords="451,266,451,300,446,300,446,266"/>
<area shape="rect" title=" " alt="" coords="645,240,706,265"/>
<area shape="poly" title=" " alt="" coords="678,192,678,226,673,226,673,192"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="interleavedBTB_8hpp__dep__incl.png" border="0" usemap="#asrc_2std__components_2predictors_2interleavedBTB_8hppdep" alt=""/></div>
<map name="asrc_2std__components_2predictors_2interleavedBTB_8hppdep" id="asrc_2std__components_2predictors_2interleavedBTB_8hppdep">
<area shape="rect" title="Implementation of Interleaved Branch Target Buffer." alt="" coords="112,5,335,45"/>
<area shape="rect" href="interleavedBTB_8cpp_source.html" title=" " alt="" coords="5,93,228,133"/>
<area shape="poly" title=" " alt="" coords="191,56,142,95,139,91,187,52"/>
<area shape="rect" href="std__components_8cpp.html" title="Declaration of the std components." alt="" coords="251,93,411,133"/>
<area shape="poly" title=" " alt="" coords="260,52,309,91,306,95,256,56"/>
</map>
</div>
</div>
<p><a href="interleavedBTB_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBTBPacket.html">BTBPacket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBTBEntry.html">BTBEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBranchTargetBuffer.html">BranchTargetBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7acd09ffa02a1e4b0789602aff2a6b83" id="r_a7acd09ffa02a1e4b0789602aff2a6b83"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>BranchType</b> { <b>BranchTypeNone</b>
, <b>BranchTypeConditional</b>
, <b>BranchTypeUnconditional</b>
 }</td></tr>
<tr class="separator:a7acd09ffa02a1e4b0789602aff2a6b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafbea6af41dd3950d810f9cea2c172d" id="r_aeafbea6af41dd3950d810f9cea2c172d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>BTBPacketType</b> { <br />
&#160;&#160;<b>BTBPacketTypeRequestQuery</b>
, <b>BTBPacketTypeRequestAddEntry</b>
, <b>BTBPacketTypeRequestUpdate</b>
, <b>BTBPacketTypeResponseBTBHit</b>
, <br />
&#160;&#160;<b>BTBPacketTypeResponseBTBMiss</b>
<br />
 }</td></tr>
<tr class="separator:aeafbea6af41dd3950d810f9cea2c172d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad1a305a3a8526e5495418c13d582d45b" id="r_ad1a305a3a8526e5495418c13d582d45b"><td class="memItemLeft" align="right" valign="top">BranchType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interleavedBTB_8hpp.html#ad1a305a3a8526e5495418c13d582d45b">BranchTypeFromSinucaBranch</a> (int branch)</td></tr>
<tr class="separator:ad1a305a3a8526e5495418c13d582d45b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6da7406f0d8e29d9f5f72711cb4ab2bf" id="r_a6da7406f0d8e29d9f5f72711cb4ab2bf"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interleavedBTB_8hpp.html#a6da7406f0d8e29d9f5f72711cb4ab2bf">MAX_INTERLEAVING_FACTOR</a> = 16</td></tr>
<tr class="separator:a6da7406f0d8e29d9f5f72711cb4ab2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of Interleaved Branch Target Buffer. </p>
<p>The Interleaved BTB is a structure that stores branches and has a certain interleaving factor that allows multiple queries in a single cycle. In this implementation, it is mapped directly and each entry has a tag for recognizing the block of instructions and vectors assimilated to the block, where each element of the vector corresponds to information from one of the instructions in the block. Although the parameters are configurable, for optimization reasons, the BTB is limited to using parameters that are multiples of 2, allowing bitwise operations to optimize the BTB's overall running time. When defining the parameters, the BTB itself internally defines the parameters as multiples of 2, choosing the log2 floor of the parameter passed in and using it to self-generate. To avoid dynamic allocations in messages and a possible memory overload, the BTB has a maximum interleaving factor set allowing a static vector to be used in response messages. If you want a higher interleaving factor than the one defined, simply change the value of the MAX_INTERLEAVING_FACTOR constant, adjust the parameters in the configuration YAML and recompile with “make -B”. </p>

<p class="definition">Definition in file <a class="el" href="interleavedBTB_8hpp_source.html">interleavedBTB.hpp</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7acd09ffa02a1e4b0789602aff2a6b83" name="a7acd09ffa02a1e4b0789602aff2a6b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7acd09ffa02a1e4b0789602aff2a6b83">&#9670;&#160;</a></span>BranchType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum BranchType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="interleavedBTB_8hpp_source.html#l00047">47</a> of file <a class="el" href="interleavedBTB_8hpp_source.html">interleavedBTB.hpp</a>.</p>

</div>
</div>
<a id="aeafbea6af41dd3950d810f9cea2c172d" name="aeafbea6af41dd3950d810f9cea2c172d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafbea6af41dd3950d810f9cea2c172d">&#9670;&#160;</a></span>BTBPacketType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum BTBPacketType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="interleavedBTB_8hpp_source.html#l00058">58</a> of file <a class="el" href="interleavedBTB_8hpp_source.html">interleavedBTB.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad1a305a3a8526e5495418c13d582d45b" name="ad1a305a3a8526e5495418c13d582d45b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a305a3a8526e5495418c13d582d45b">&#9670;&#160;</a></span>BranchTypeFromSinucaBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BranchType BranchTypeFromSinucaBranch </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>branch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="interleavedBTB_8hpp_source.html#l00053">53</a> of file <a class="el" href="interleavedBTB_8hpp_source.html">interleavedBTB.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6da7406f0d8e29d9f5f72711cb4ab2bf" name="a6da7406f0d8e29d9f5f72711cb4ab2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da7406f0d8e29d9f5f72711cb4ab2bf">&#9670;&#160;</a></span>MAX_INTERLEAVING_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int MAX_INTERLEAVING_FACTOR = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="interleavedBTB_8hpp_source.html#l00045">45</a> of file <a class="el" href="interleavedBTB_8hpp_source.html">interleavedBTB.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_dd08afd3b44d2a7ba2f201360dbdd6d1.html">std_components</a></li><li class="navelem"><a class="el" href="dir_e10c409b16a6656750b649a5139ad20f.html">predictors</a></li><li class="navelem"><a class="el" href="interleavedBTB_8hpp.html">interleavedBTB.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
