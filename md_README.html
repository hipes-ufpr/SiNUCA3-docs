<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiNUCA3: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SiNUCA3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Ler esse documento em portuguÃªs</p>
<h1><a class="anchor" id="autotoc_md0"></a>
SiNUCA3</h1>
<p>Third iteration of the Simulator of Non-Uniform Cache Architectures.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Main authors</h2>
<p>todo: put the name of everyone here.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Dependencies</h2>
<p>SiNUCA3 depends on libyaml (<code>sudo apt install libyaml-dev</code> on Debian, Ubuntu and derivatives).</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Building</h2>
<p>Just <code>make</code> works.</p>
<p>We use a Makefile that automatically detects every source file in <code>src/</code> and builds it to it's own object to <code>build/</code>, linking everything together as <code>sinuca3</code>. Also, it'll use <code>clang</code> if you have it installed, but will fallback to <code>gcc</code> or <code>cc</code> otherwise.</p>
<p>That said, you can build an optimized binary by just running "make" and a debug binary by running "make debug". Both can coexist as the object names and the binaries are different (debug ones have -debug appended to the name).</p>
<p>If you play with any header file, you'll unfortunatelly have to <code>make -B</code> because our build system does not automatically rebuilds sources when their headers have changed.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Project structure</h2>
<p>As said in building, you can just throw a .cpp or .c file inside <code>src/</code> and it'll be picked up by the build system. For creating your own components, it may be a good idea to keep things organized and put them into the <code>src/custom_components/</code> directory.</p>
<p>You'll need to add your custom components to the <code><a class="el" href="custom_8cpp_source.html">src/custom_components/custom.cpp</a></code> file also.</p>
<p>Most of the API is accessible via <code><a class="el" href="sinuca3_8hpp.html">sinuca3.hpp</a></code>.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Modularization schema</h2>
<p>We use virtual classes for modularization, so you can code anything as a component as long as it behaves as one. For example, you may code anything to be put in the place of the cache as long as it has the methods defined for the <code>MemoryComponent</code> virtual class (wait, it's just a single method!).</p>
<p>When needing to actually reuse code, prefer to compose, I.e, add the specific class as a private attribute and call it's methods.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Developing, styleguide, guidelines, etc</h2>
<p>We like to use modern tools like <code>clangd</code> and <code>lldb</code> and old standards: our C++ is C++98 and our C is C99. When adding new files, please be kind and run <code>bear --append -- make debug</code> so <code>clangd</code> properly detects them. After editing, please format everything with <code>clang-format</code>. A common trick is to run <code>find . -type f -name "*.[cpp,hpp,c,h]" -exec clang-format -i {} \;</code> as this will format all files.</p>
<p>Also, the project is documented with Doxygen, so remember of the documentation comments.</p>
<p>We mostly follow <a href="https://google.github.io/styleguide/cppguide.html">Google's C++ Style Guide</a> with some extensions:</p>
<ul>
<li>As of code styling, we use the following <code>.clang-format</code>: <br  />
 <div class="fragment"><div class="line">BasedOnStyle: Google</div>
<div class="line">IndentWidth: 4</div>
<div class="line">AccessModifierOffset: -2</div>
<div class="line">PointerAlignment: Left</div>
</div><!-- fragment --></li>
<li>We use <code>.cpp</code> for C++ and <code>.hpp</code> for C++ headers. Similarly, the include guards ends with <code>HPP_</code>.</li>
<li>Static storage duration still should be avoided but we're more permissive towards it then Google due to the nature of our project.</li>
<li><em>Usually</em> you should only inherit from virtual classes.</li>
<li>Operator overloading is strictly forbidden.</li>
<li>We do not use references, only raw pointers. Of course we do not use smart pointers and move semantics as we're stuck in C++98.</li>
<li>We do not have <code>cpplint.py</code>.</li>
<li>Don't use friend classes.</li>
<li>Use <code>cstdio</code> instead of <code>iostream</code>.</li>
<li>Use <code>NULL</code> for null-pointers as we're stuck in C++98.</li>
<li>Don't use type deduction.</li>
<li>No boost library is aprooved.</li>
<li>Variables, attributes and namespaces are <code>camelCase</code> and without any prefix or suffix.</li>
<li>Constants are <code>ALL_CAPS</code>, just like macros (that of course should be avoided).</li>
<li>Enum names are <code>PascalCase</code> just like functions and types.</li>
<li>In the overall, avoid complicating stuff.</li>
</ul>
<p>HiPES is an inclusive place. Remember that. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
